<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Workout Tracker</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f7f7f7; }
    h1 { text-align: center; }
    .day, .exercise, .set { border: 1px solid #ccc; padding: 10px; margin: 10px 0; border-radius: 8px; background: white; }
    button { margin: 5px; padding: 6px 12px; border-radius: 6px; border: none; background: #007aff; color: white; cursor: pointer; }
    button:hover { background: #005bb5; }
    input, select, textarea { margin: 5px 0; padding: 6px; width: 100%; border: 1px solid #ccc; border-radius: 6px; }
  </style>
</head>
<body>
  <h1>Workout Tracker</h1>
  <div id="days"></div>
  <button onclick="addDay()">➕ Add Day</button>

  <script>
    let data = JSON.parse(localStorage.getItem('workoutData')) || { days: [] };

    function saveData() {
      localStorage.setItem('workoutData', JSON.stringify(data));
    }

    function render() {
      const daysDiv = document.getElementById('days');
      daysDiv.innerHTML = '';
      data.days.forEach((day, dayIndex) => {
        const dayDiv = document.createElement('div');
        dayDiv.className = 'day';

        const titleInput = document.createElement('input');
        titleInput.value = day.name;
        titleInput.placeholder = 'Day name (e.g. Push Day, Monday)';
        titleInput.oninput = (e) => { day.name = e.target.value; saveData(); };
        dayDiv.appendChild(titleInput);

        day.exercises.forEach((ex, exIndex) => {
          const exDiv = document.createElement('div');
          exDiv.className = 'exercise';

          const exName = document.createElement('input');
          exName.value = ex.name;
          exName.placeholder = 'Exercise name';
          exName.oninput = (e) => { ex.name = e.target.value; saveData(); };
          exDiv.appendChild(exName);

          ex.sets.forEach((set, setIndex) => {
            const setDiv = document.createElement('div');
            setDiv.className = 'set';

            const reps = document.createElement('input');
            reps.type = 'number';
            reps.value = set.reps;
            reps.placeholder = 'Reps';
            reps.oninput = (e) => { set.reps = e.target.value; saveData(); };
            setDiv.appendChild(reps);

            const weight = document.createElement('input');
            weight.type = 'number';
            weight.value = set.weight;
            weight.placeholder = 'Weight (lbs)';
            weight.oninput = (e) => { set.weight = e.target.value; saveData(); };
            setDiv.appendChild(weight);

            const rest = document.createElement('input');
            rest.type = 'text';
            rest.value = set.rest;
            rest.placeholder = 'Rest (sec)';
            rest.oninput = (e) => { set.rest = e.target.value; saveData(); };
            setDiv.appendChild(rest);

            const notes = document.createElement('textarea');
            notes.value = set.notes;
            notes.placeholder = 'Notes';
            notes.oninput = (e) => { set.notes = e.target.value; saveData(); };
            setDiv.appendChild(notes);

            const delSetBtn = document.createElement('button');
            delSetBtn.textContent = '🗑️ Delete Set';
            delSetBtn.onclick = () => { ex.sets.splice(setIndex, 1); saveData(); render(); };
            setDiv.appendChild(delSetBtn);

            exDiv.appendChild(setDiv);
          });

          const addSetBtn = document.createElement('button');
          addSetBtn.textContent = '➕ Add Set';
          addSetBtn.onclick = () => { ex.sets.push({ reps: '', weight: '', rest: '', notes: '' }); saveData(); render(); };
          exDiv.appendChild(addSetBtn);

          const delExBtn = document.createElement('button');
          delExBtn.textContent = '🗑️ Delete Exercise';
          delExBtn.onclick = () => { day.exercises.splice(exIndex, 1); saveData(); render(); };
          exDiv.appendChild(delExBtn);

          dayDiv.appendChild(exDiv);
        });

        const addExBtn = document.createElement('button');
        addExBtn.textContent = '➕ Add Exercise';
        addExBtn.onclick = () => { day.exercises.push({ name: '', sets: [] }); saveData(); render(); };
        dayDiv.appendChild(addExBtn);

        const delDayBtn = document.createElement('button');
        delDayBtn.textContent = '🗑️ Delete Day';
        delDayBtn.onclick = () => { data.days.splice(dayIndex, 1); saveData(); render(); };
        dayDiv.appendChild(delDayBtn);

        daysDiv.appendChild(dayDiv);
      });
    }

    function addDay() {
      data.days.push({ name: '', exercises: [] });
      saveData();
      render();
    }

    render();
  </script>
</body>
</html>
