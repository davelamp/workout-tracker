<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Workout Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: sans-serif; margin: 0; padding: 0; }
    nav { display: flex; background: #222; color: #fff; }
    nav button { flex: 1; padding: 1em; background: #222; color: #fff; border: none; cursor: pointer; font-size: 1rem; }
    nav button.active { background: #444; }
    .tab { display: none; padding: 1em; }
    .tab.active { display: block; }
    input, select, button, textarea { 
      margin: 0.25em 0; 
      padding: 0.5em; 
      font-size: 1rem; /* prevents iOS zoom */
    }
    .exercise-item { margin: 0.25em 0; padding: 0.5em; border-bottom: 1px solid #ccc; }
    .set-form { margin-top: 1em; }
    .set-log { margin-top: 1em; padding: 0.5em; border-bottom: 1px solid #eee; }
  </style>
</head>
<body>
  <nav>
    <button id="trackerTabBtn" class="active">Tracker</button>
    <button id="exercisesTabBtn">Exercises</button>
  </nav>

  <!-- Tracker Tab -->
  <div id="trackerTab" class="tab active">
    <h2>Workout Tracker</h2>
    <label>Day Type:
      <select id="dayTypeSelect">
        <option value="">--Choose--</option>
        <option value="push">Push</option>
        <option value="pull">Pull</option>
        <option value="legs">Legs</option>
      </select>
    </label>

    <div id="exerciseSelectWrapper" style="display:none;">
      <label>Exercise:
        <select id="exerciseSelect"></select>
      </label>

      <div id="setForm" class="set-form" style="display:none;">
        <label>Reps: <input type="number" id="repsInput"></label><br>
        <label>Weight (lbs): <input type="number" id="weightInput"></label><br>
        <label>Rest (sec): <input type="number" id="restInput"></label><br>
        <label>Notes: <input type="text" id="notesInput"></label><br>
        <button id="saveSetBtn">Save Set</button>
      </div>
    </div>

    <h3>Logged Sets</h3>
    <div id="setsLog"></div>
  </div>

  <!-- Exercises Tab -->
  <div id="exercisesTab" class="tab">
    <h2>Exercises Database</h2>
    <label>Exercise Name: <input id="exerciseName" type="text"></label><br>
    <label><input type="checkbox" value="push" class="tagCheckbox"> Push</label>
    <label><input type="checkbox" value="pull" class="tagCheckbox"> Pull</label>
    <label><input type="checkbox" value="legs" class="tagCheckbox"> Legs</label><br>
    <button id="addExerciseBtn">Add Exercise</button>

    <h3>Saved Exercises</h3>
    <div id="exerciseList"></div>
  </div>

<script>
  // Load saved logs
  function loadLogs() {
    const logs = JSON.parse(localStorage.getItem("workoutLogs")) || [];
    return logs;
  }

  // Save logs back to localStorage
  function saveLogs(logs) {
    localStorage.setItem("workoutLogs", JSON.stringify(logs));
  }

  // Handle form submission
  document.getElementById("logForm").addEventListener("submit", function (e) {
    e.preventDefault();

    const date = document.getElementById("date").value;
    const exercise = document.getElementById("exercise").value.trim();
    const sets = document.getElementById("sets").value;

    if (!date || !exercise || !sets) return;

    const logs = loadLogs();
    logs.push({ date, exercise, sets });
    saveLogs(logs);

    document.getElementById("logForm").reset();
    updateExerciseOptions();
    updateLogTable();
  });

  // Update exercise dropdown from history
  function updateExerciseOptions() {
    const exerciseInput = document.getElementById("exercise");
    const logs = loadLogs();
    const exercises = [...new Set(logs.map(log => log.exercise))];

    const datalist = document.getElementById("exerciseList");
    datalist.innerHTML = "";
    exercises.forEach(ex => {
      const option = document.createElement("option");
      option.value = ex;
      datalist.appendChild(option);
    });
  }

  // Show saved logs in table
  function updateLogTable() {
    const logs = loadLogs();
    const tbody = document.getElementById("logTableBody");
    tbody.innerHTML = "";

    logs.forEach(log => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${log.date}</td>
        <td>${log.exercise}</td>
        <td>${log.sets}</td>
      `;
      tbody.appendChild(row);
    });
  }

  // When exercise is selected, auto-fill sets from last entry
  document.getElementById("exercise").addEventListener("change", function () {
    const exercise = this.value.trim();
    if (!exercise) return;

    const logs = loadLogs();
    const lastEntry = [...logs].reverse().find(log => log.exercise === exercise);
    if (lastEntry) {
      document.getElementById("sets").value = lastEntry.sets;
    } else {
      document.getElementById("sets").value = "";
    }
  });

  // Initialize
  updateExerciseOptions();
  updateLogTable();
</script>

</body>
</html>


